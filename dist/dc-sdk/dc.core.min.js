!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=103)}({103:function(e,t,n){n(104),e.exports=n(111)},104:function(e,t,n){var r=function(e){if(!e)throw new Error("DC.Overlay: Missing DC Base SDK");e.init((function(){n(105),n(122)})),e.ready=function(t){try{e.Initialized?t&&t():e.init((function(){n(123),e.Initialized=!0,t&&t()}))}catch(e){delete window.Cesium,delete window.DC,console.error(e)}}};"undefined"!=typeof window&&window.DC&&r(window.DC),e.exports={install:r}},105:function(e,t,n){"use strict";n.r(t);var r=n(3);DC.Cartesian2=r.a.Cartesian2,DC.Cartesian3=r.a.Cartesian3,DC.SceneMode=r.a.SceneMode,DC.TilesetStyle=r.a.Cesium3DTileStyle,DC.CallbackProperty=r.a.CallbackProperty,DC.JulianDate=r.a.JulianDate,DC.Math=r.a.Math,DC.ClassificationType=r.a.ClassificationType,DC.Color=r.a.Color,DC.ColorMaterialProperty=r.a.Color,DC.ImageMaterialProperty=r.a.ImageMaterialProperty,DC.PolylineDashMaterialProperty=r.a.PolylineDashMaterialProperty,DC.PolylineGlowMaterialProperty=r.a.PolylineGlowMaterialProperty,DC.PolylineOutlineMaterialProperty=r.a.PolylineOutlineMaterialProperty,DC.PolylineArrowMaterialProperty=r.a.PolylineArrowMaterialProperty},106:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={INITIALIZED:"initialized",ADDED:"added",REMOVED:"removed"};DC.LayerState=r({},i,{CLEARED:"cleared"}),DC.OverlayState=r({},i),DC.EffectState=r({},i),DC.WidgetState={INITIALIZED:"initialized",INSTALLED:"installed",ENABLED:"enabled",DISABLED:"disabled"},DC.RoamingState=r({},i)},107:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");DC.Util=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,i;return t=e,i=[{key:"uuid",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"D",n=[];n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var o=0;o<36;o++)n[o]||(e=0|16*Math.random(),n[o]=r[19==o?3&e|8:e]);return t+"-"+n.join("")}},{key:"merge",value:function(e){for(var t,n,r,o,i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];for(n=0,r=a.length;n<r;n++)for(t in o=a[n])e[t]=o[t];return e}},{key:"trim",value:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}},{key:"splitWords",value:function(e){return this.trim(e).split(/\s+/)}},{key:"setOptions",value:function(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?create(e.options):{}),t)e.options[n]=t[n];return e.options}},{key:"checkPosition",value:function(e){return e&&e instanceof DC.Position}},{key:"checkPositions",value:function(e){return e&&("string"==typeof e||Array.isArray(e))}}],(o=null)&&n(t.prototype,o),i&&n(t,i),e}()},108:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}DC.DomUtil=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,o=[{key:"get",value:function(e){return"string"==typeof e?document.getElementById(e):e}},{key:"getStyle",value:function(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}},{key:"create",value:function(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"empty",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"addClass",value:function(e,t){if(void 0!==e.classList)for(var n=DC.Util.splitWords(t),r=0,o=n.length;r<o;r++)e.classList.add(n[r]);else if(!this.hasClass(e,t)){var i=this.getClass(e);this.setClass(e,(i?i+" ":"")+t)}}},{key:"removeClass",value:function(e,t){void 0!==e.classList?e.classList.remove(t):this.setClass(e,DC.Util.trim((" "+this.getClass(e)+" ").replace(" "+t+" "," ")))}},{key:"setClass",value:function(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}},{key:"getClass",value:function(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}},{key:"createSvg",value:function(e,t,n,r){var o=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");o.setAttribute("class","svg-path"),o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("viewBox","0 0 ".concat(e," ").concat(t));var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",n),o.appendChild(i),r&&r.appendChild(o),o}}],(r=[{key:"hasClass",value:function(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=getClass(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}}])&&n(t.prototype,r),o&&n(t,o),e}()},109:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}DC.TopoJsonLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,DC.GeoJsonLayer);var t,n=(t=s,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return i(this,e)});function s(e,t){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r(this,s),!t)throw new Error("DC.TopoJsonLayer：the url invalid");return(o=n.call(this,e,t,i))._state=DC.LayerState.INITIALIZED,o.type=DC.LayerType.TOPOJSON,o}return s}(),DC.LayerType.TOPOJSON="topojson"},110:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}DC.P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,o=[{key:"parsePosition",value:function(e){var t=new DC.Position;return"string"==typeof e?t=DC.Position.fromCoordString(e):Array.isArray(e)?t=DC.Position.fromCoordArray(e):item instanceof DC.Position&&(t=item),t}},{key:"parsePositions",value:function(e){if("string"==typeof e){if(e.indexOf("#")>=0)throw new Error("the positions invalid");e=e.split(";")}return e.map((function(e){return Array.isArray(e)?DC.Position.fromCoordArray(e):e instanceof DC.Position?e:DC.Position.fromCoordString(e)}))}}],(r=null)&&n(t.prototype,r),o&&n(t,o),e}()},111:function(e,t,n){"use strict";n.r(t);n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120)},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r=n(3);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={ADD:"add",REMOVE:"remove"};DC.MouseEventType={CLICK:r.a.ScreenSpaceEventType.LEFT_CLICK,RIGHT_CLICK:r.a.ScreenSpaceEventType.RIGHT_CLICK,DB_CLICK:r.a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,MOUSE_MOVE:r.a.ScreenSpaceEventType.MOUSE_MOVE,WHEEL:r.a.ScreenSpaceEventType.WHEEL,MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout"},DC.ViewerEventType={ADD_LAYER:"addLayer",REMOVE_LAYER:"removeLayer",ADD_EFFECT:"addEffect",REMOVE_EFFECT:"removeEffect"},DC.SceneEventType={CAMERA_MOVE_END:"cameraMoveEnd",CAMERA_CHANGED:"cameraChanged",PRE_RENDER:"preRender",POST_RENDER:"postRender",MORPH_COMPLETE:"morphComplete",CLOCK_TICK:"clockTick"},DC.LayerEventType=i({},c,{CLEAR:"clear"}),DC.OverlayEventType=i({},c),DC.EffectEventType=i({},c),DC.RoamingEventType=i({},c,{TICK:"tick",ACTIVE:"active"});n(106),n(107),n(108);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}DC.Math.area=function(e){var t=0;if(e&&Array.isArray(e)){for(var n=0,r=Cesium.Ellipsoid.WGS84,o=s(o).concat(o[0]),i=1;i<o.length;i++){var a=r.cartographicToCartesian(DC.T.transformWGS84ToCartographic(o[i-1])),c=r.cartographicToCartesian(DC.T.transformWGS84ToCartographic(o[i]));n+=a.x*c.y-c.x*a.y}t=Math.abs(n).toFixed(2)}return t},DC.Math.bounds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=180,r=90,o=-180,i=-90;if(e.forEach((function(e){n=Math.min(n,e.lng||e.x),r=Math.min(r,e.lat||e.y),o=Math.max(o,e.lng||e.x),i=Math.max(i,e.lat||e.y)})),t>0){var a=Math.abs(o-o),c=Math.abs(i-r);n-=a*t,r-=c*t,o+=a*t,i+=c*t}return{west:n,south:r,east:o,north:i}},DC.Math.center=function(e){if(e&&Array.isArray(e)){var t=r.a.BoundingSphere.fromPoints(DC.T.transformWGS84ArrayToCartesianArray(e));return DC.T.transformCartesianToWGS84(t.center)}return new DC.Position},DC.Math.distance=function(e){var t=0;if(e&&Array.isArray(e))for(var n=0;n<e.length-1;n++){var r=DC.T.transformWGS84ToCartographic(e[n]),o=DC.T.transformWGS84ToCartographic(e[n+1]),i=new Cesium.EllipsoidGeodesic;i.setEndPoints(r,o);var a=i.surfaceDistance;t+=a=Math.sqrt(Math.pow(a,2)+Math.pow(o.height-r.height,2))}return t.toFixed(3)},DC.Math.heading=function(e,t){var n=0;e instanceof DC.Position&&(e=DC.T.transformWGS84ToCartesian(e)),t instanceof DC.Position&&(t=DC.T.transformWGS84ToCartesian(t));var o=r.a.Cartesian3.subtract(t,e,new r.a.Cartesian3);if(o){r.a.Cartesian3.normalize(o,o);var i=r.a.Ellipsoid.WGS84.geodeticSurfaceNormal(e,new r.a.Cartesian3),a=r.a.Cartesian3.cross(r.a.Cartesian3.UNIT_Z,i,new r.a.Cartesian3),c=r.a.Cartesian3.cross(i,a,new r.a.Cartesian3);n=Math.atan2(r.a.Cartesian3.dot(o,a),r.a.Cartesian3.dot(o,c))}return n},DC.Math.isBetween=function(e,t,n){return(e=parseFloat(e||0))>=parseFloat(t)&&e<=parseFloat(n)};var l=n(22);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t||DC.Util.uuid(),this._delegate=void 0,this._viewer=void 0,this._state=void 0,this._show=!0,this._cache={},this._attr={},this._style={},this._layerEvent=new l.a,this._layerEvent.on(DC.LayerEventType.ADD,this._addHandler,this),this._layerEvent.on(DC.LayerEventType.REMOVE,this._removeHandler,this),this.type=void 0}var t,n,o;return t=e,(n=[{key:"_addedHook",value:function(){}},{key:"_removedHook",value:function(){}},{key:"_addHandler",value:function(e){this._viewer=e,this._delegate instanceof r.a.PrimitiveCollection?this._viewer.scene.primitives.add(this._delegate):this._viewer.dataSources.add(this._delegate),this._addedHook&&this._addedHook(),this._state=DC.LayerState.ADDED}},{key:"_removeHandler",value:function(){if(!this._delegate)return!1;this._viewer&&(this._cache={},this._delegate instanceof r.a.PrimitiveCollection?(this._delegate.removeAll(),this._viewer.scene.primitives.remove(this._delegate)):this._delegate.then?(this._delegate.then((function(e){e.entities.removeAll()})),this._viewer.dataSources.remove(this._delegate)):(this._delegate.entities&&this._delegate.entities.removeAll(),this._viewer.dataSources.remove(this._delegate)),this._removedHook&&this._removedHook(),this._state=DC.LayerState.REMOVED)}},{key:"_addOverlay",value:function(e){e&&e.overlayEvent&&e.state!==DC.OverlayState.ADDED&&(e.overlayEvent.fire(DC.OverlayEventType.ADD,this),this._cache[e.overlayId]=e,this._state===DC.LayerState.CLEARED&&(this._state=DC.LayerState.ADDED))}},{key:"_removeOverlay",value:function(e){e&&e.overlayEvent&&e.state!==DC.OverlayState.REMOVED&&(e.overlayEvent.fire(DC.OverlayEventType.REMOVE,this),delete this._cache[e.overlayId])}},{key:"addOverlay",value:function(e){return this._addOverlay(e),this}},{key:"addOverlays",value:function(e){var t=this;return Array.isArray(e)&&e.forEach((function(e){t._addOverlay(overlay)})),this}},{key:"removeOverlay",value:function(e){return this._removeOverlay(e),this}},{key:"getOverlay",value:function(e){return this._cache[e]||void 0}},{key:"getOverlayById",value:function(e){var t=this,n=void 0;return Object.keys(this._cache).forEach((function(r){t._cache[r].id===e&&(n=t._cache[r])})),n}},{key:"getOverlaysByAttr",value:function(e,t){var n=this,r=[];return Object.keys(this._cache).forEach((function(o){n._cache[o].attr[e]===t&&r.push[n._cache[o]]})),r}},{key:"eachOverlay",value:function(e,t){var n=this;return Object.keys(this._cache).forEach((function(r){e&&e.call(t,n._cache[r])})),this}},{key:"getOverlays",value:function(){var e=this,t=[];return Object.keys(this._cache).forEach((function(n){t.push(e._cache[n])})),t}},{key:"clear",value:function(){}},{key:"remove",value:function(){this._viewer&&this._viewer.removeLayer(this)}},{key:"addTo",value:function(e){return e&&e.addLayer&&e.addLayer(this),this}},{key:"setStyle",value:function(e){}},{key:"show",set:function(e){this._show=e,this._delegate&&(this._delegate.show=this._show)},get:function(){return this._show}},{key:"layerEvent",get:function(){return this._layerEvent}},{key:"attr",set:function(e){this._attr=e},get:function(){return this._attr}},{key:"id",get:function(){return this._id}},{key:"delegate",get:function(){return this._delegate}},{key:"state",get:function(){return this._state}}])&&f(t.prototype,n),o&&f(t,o),e}();DC.Layer=y;var p=y;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}DC.VectorLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=m(t);if(_()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e))._delegate=new r.a.CustomDataSource(e),t._state=DC.LayerState.INITIALIZED,t.type=DC.LayerType.VECTOR,t}return n=c,(o=[{key:"clear",value:function(){return this._delegate.entities&&this._delegate.entities.removeAll(),this._cache={},this._state=DC.LayerState.CLEARED,this}}])&&v(n.prototype,o),i&&v(n,i),c}(p),DC.LayerType.VECTOR="vector",DC.TilesetLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=E(t);if(D()){var r=E(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e))._delegate=new r.a.PrimitiveCollection,t._state=DC.LayerState.INITIALIZED,t.type=DC.LayerType.TILESET,t}return n=c,(o=[{key:"clear",value:function(){return this._delegate.removeAll(),this._cache={},this._state=DC.LayerState.CLEARED,this}}])&&w(n.prototype,o),i&&w(n,i),c}(p),DC.LayerType.TILESET="tileset",DC.GeoJsonLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=L(t);if(R()){var r=L(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return j(this,e)});function c(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k(this,c),!t)throw new Error("DC.GeoJsonLayer：the url invalid");return(n=a.call(this,e))._delegate=r.a.GeoJsonDataSource.load(t,o),n._state=DC.LayerState.INITIALIZED,n.type=DC.LayerType.GEOJSON,n}return n=c,(o=[{key:"_createBillboard",value:function(e){if(e.position&&e.billboard)return DC.Billboard.fromEntity(e)}},{key:"_createPolyline",value:function(e){if(e.polyline)return DC.Polyline.fromEntity(e)}},{key:"_createPolygon",value:function(e){if(e.polygon)return DC.Polygon.fromEntity(e)}},{key:"eachOverlay",value:function(e,t){if(this._delegate)return this._delegate.then((function(n){n.entities.values.forEach((function(n){e.call(t,n)}))})),this}},{key:"toVectorLayer",value:function(){var e=new DC.VectorLayer(this._id),t=this;return this.eachOverlay((function(n){n.billboard?e.addOverlay(t._createBillboard(n)):n.polyline?e.addOverlay(t._createPolyline(n)):n.polygon&&e.addOverlay(t._createPolygon(n))})),e}},{key:"show",set:function(e){var t=this;this._show=e,this._delegate&&this._delegate.then((function(e){e.show=t._show}))},get:function(){return this._show}}])&&P(n.prototype,o),i&&P(n,i),c}(p),DC.LayerType.GEOJSON="geojson";n(109);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}DC.HtmlLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=U(t);if(H()){var r=U(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return x(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e))._delegate=DC.DomUtil.create("div","html-layer"),t._delegate.setAttribute("id",t._id),t._state=DC.LayerState.INITIALIZED,t.type=DC.LayerType.HTML,t._renderRemoveCallback=void 0,t}return n=c,(o=[{key:"_addHandler",value:function(e){var t=this;this._viewer=e,this._viewer.dcContainer.appendChild(this._delegate);var n=this._viewer.scene;this._renderRemoveCallback=n.postRender.addEventListener((function(){var e=t._viewer.camera.positionWC;t.eachOverlay((function(t){if(t&&t.position){var o=DC.T.transformWGS84ToCartesian(t.position),i=r.a.SceneTransforms.wgs84ToWindowCoordinates(n,o),a=r.a.Cartesian3.distance(o,e);t._updateStyle({transform:i},a)}}))}),this),this._state=DC.LayerState.ADDED}},{key:"_removeHandler",value:function(){this._renderRemoveCallback&&this._renderRemoveCallback(),this._viewer.dcContainer.removeChild(this._delegate),this._state=DC.LayerState.REMOVED}},{key:"clear",value:function(){for(var e=this._delegate.childNodes,t=e.length-1;t>=0;t--)this._delegate.removeChild(e[t]);return this._cache={},this._state=DC.LayerState.CLEARED,this}},{key:"show",set:function(e){this._show=e,this._delegate.style.visibility=this._show?"visible":"hidden"},get:function(){return this._show}}])&&I(n.prototype,o),i&&I(n,i),c}(p),DC.LayerType.HTML="html",DC.LabelLayer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=z(t);if(B()){var r=z(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return G(this,e)});function c(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!t)throw new Error("DC.LabelLayer：the url invalid");return(n=a.call(this,e))._dataSource=r.a.GeoJsonDataSource.load(t),n._delegate=new r.a.CustomDataSource(e),n._initLabel(),n._state=DC.LayerState.INITIALIZED,n.type=DC.LayerType.LABEL,n}return n=c,(o=[{key:"_createLabel",value:function(e){if(e.position&&item.name)return DC.Label.fromEntity(e)}},{key:"_initLabel",value:function(){var e=this;this._dataSource.then((function(t){t.entities.values.forEach((function(t){var n=e._createLabel(t);e.addOverlay(n)}))}))}}])&&N(n.prototype,o),i&&N(n,i),c}(p),DC.LayerType.LABEL="label";var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=DC.Util.uuid(),this._layer=void 0,this._state=void 0,this._delegate=void 0,this._bid=DC.Util.uuid(),this._show=!0,this._style={},this._attr={},this._overlayEvent=new l.c,this.type=void 0,this.on(DC.OverlayEventType.ADD,this._addHandler,this),this.on(DC.OverlayEventType.REMOVE,this._removeHandler,this)}var t,n,r;return t=e,(n=[{key:"_addedHook",value:function(){if(!this._delegate)return!1;this._delegate.layer=this._layer,this._delegate.overlayId=this._id}},{key:"_mountedHook",value:function(){}},{key:"_removedHook",value:function(){}},{key:"_addHandler",value:function(e){if(!e)return!1;this._layer=e,this._mountedHook&&this._mountedHook(),this._layer&&this._layer.delegate&&this._layer.delegate.entities&&(this._layer.delegate.entities.add(this._delegate),this._addedHook&&this._addedHook(),this._state=DC.OverlayState.ADDED)}},{key:"_removeHandler",value:function(){this._layer&&this._layer.delegate&&this._layer.delegate.entities&&(this._layer.delegate.entities.remove(this._delegate),this._removedHook&&this._removedHook(),this._state=DC.OverlayState.REMOVED)}},{key:"setStyle",value:function(e){return this}},{key:"remove",value:function(){return this._layer&&this._layer.removeOverlay(this),this}},{key:"addTo",value:function(e){return e&&e.addOverlay&&e.addOverlay(this),this}},{key:"on",value:function(e,t,n){return this._overlayEvent.on(e,t,n||this),this}},{key:"off",value:function(e,t,n){return this._overlayEvent.off(e,t,n||this),this}},{key:"fire",value:function(e,t){return this._overlayEvent.fire(e,t),this}},{key:"overlayId",get:function(){return this._id}},{key:"id",set:function(e){this._bid=e},get:function(){return this._bid}},{key:"show",set:function(e){this._show=e,this._delegate&&(this._delegate.show=this._show)},get:function(){return this._show}},{key:"attr",set:function(e){this._attr=e},get:function(){return this._attr}},{key:"overlayEvent",get:function(){return this._overlayEvent}},{key:"delegate",get:function(){return this._delegate}},{key:"state",get:function(){return this._state}}])&&F(t.prototype,n),r&&F(t,r),e}();DC.Overlay=Z;var J=Z;function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne={pixelSize:8,outlineColor:r.a.Color.BLUE,outlineWidth:2};function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?bt(e):t}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}DC.Point=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=te(t);if(ee()){var r=te(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Q(this,e)});function c(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPosition(e))throw new Error("DC.Point: the position invalid");return(t=a.call(this))._position=e,t._delegate=new r.a.Entity,t._state=DC.OverlayState.INITIALIZED,t.type=DC.OverlayType.POINT,t}return n=c,(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ToCartesian(e._position)})),this._delegate.point=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ne,{},this._style)}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.point&&DC.Util.merge(this._delegate.point,ne,this._style)),this}},{key:"position",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.Point: the position invalid");this._position=e},get:function(){return this._position}}])&&q(n.prototype,o),i&&q(n,i),c}(J),DC.OverlayType.POINT="point",DC.Polyline=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=fe(t);if(le()){var r=fe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ue(this,e)});function c(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPositions(e))throw new Error("DC.Polyline: the positions invalid");return(t=a.call(this))._positions=DC.P.parsePositions(e),t._delegate=new r.a.Entity,t._state=DC.OverlayState.INITIALIZED,t.type=DC.OverlayType.POLYLINE,t}return n=c,i=[{key:"fromEntity",value:function(e){var t=void 0;if(e.polyline){var n=DC.T.transformCartesianArrayToWGS84Array(e.polyline.positions.getValue(r.a.JulianDate.now()));(t=new DC.Polyline(n)).attr=ie({},e.properties.getValue(r.a.JulianDate.now()))}return t}}],(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.polyline=ie({},this._style,{positions:new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ArrayToCartesianArray(e._positions)}))})}},{key:"setStyle",value:function(e){return 0==Object.keys(e).length||(this._style=e,this._delegate.polyline&&DC.Util.merge(this._delegate.polyline,this._style)),this}},{key:"positions",set:function(e){if(!DC.Util.checkPositions(e))throw new Error("DC.Polyline: the positions invalid");this._positions=DC.P.parsePositions(e)},get:function(){return this._positions}},{key:"center",get:function(){return DC.Math.center(this._positions)}},{key:"distance",get:function(){return DC.Math.distance(this._positions)}}])&&ce(n.prototype,o),i&&ce(n,i),c}(J),DC.OverlayType.POLYLINE="polyline",DC.Polygon=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=ge(t);if(me()){var r=ge(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _e(this,e)});function c(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPositions(e))throw new Error("DC.Polygon: the positions invalid");return(t=a.call(this))._positions=DC.P.parsePositions(e),t._holes=[],t._delegate=new r.a.Entity,t._state=DC.OverlayState.INITIALIZED,t.type=DC.OverlayType.POLYGON,t}return n=c,i=[{key:"fromEntity",value:function(e){var t=void 0;if(e.polygon){var n=DC.T.transformCartesianArrayToWGS84Array(item.polygon.hierarchy.getValue(r.a.JulianDate.now()).positions);(t=new DC.Polygon(n)).attr=he({},e.properties.getValue(r.a.JulianDate.now()))}return t}}],(o=[{key:"_prepareHierarchy",value:function(){var e=new r.a.PolygonHierarchy;return e.positions=DC.T.transformWGS84ArrayToCartesianArray(this._positions),e.holes=this._holes.map((function(e){return new r.a.PolygonHierarchy(DC.T.transformWGS84ArrayToCartesianArray(e))})),e}},{key:"_mountedHook",value:function(){var e=this;this._delegate.polygon=he({},this._style,{hierarchy:new r.a.CallbackProperty((function(t){return e._prepareHierarchy()}))})}},{key:"setStyle",value:function(e){return e&&0!==Object.keys(e).length?(this._style=e,this._delegate.polygon&&DC.Util.merge(this._delegate.polygon,this._style),this):this}},{key:"positions",set:function(e){if(!DC.Util.checkPositions(e))throw new Error("DC.Polygon: the positions invalid");this._positions=DC.P.parsePositions(e)},get:function(){return this._positions}},{key:"holes",set:function(e){e&&e.length&&(this._holes=e.map((function(e){return DC.P.parsePositions(e)})))},get:function(){return this._holes}},{key:"center",get:function(){return DC.Math.center(this._positions)}},{key:"area",get:function(){return DC.Math.area(this._positions)}}])&&de(n.prototype,o),i&&de(n,i),c}(J),DC.OverlayType.POLYGON="polygon",DC.Billboard=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=Te(t);if(Pe()){var r=Te(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ke(this,e)});function c(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPosition(e))throw new Error("DC.Billboard: the position invalid");return(n=a.call(this))._position=e,n._icon=t,n._size=[32,32],n._delegate=new r.a.Entity,n._state=DC.OverlayState.INITIALIZED,n.type=DC.OverlayType.BILLBOARD,n}return n=c,i=[{key:"fromEntity",value:function(e){var t=DC.T.transformCartesianToWGS84(e.position.getValue(r.a.JulianDate.now())),n=void 0;return e.billboard&&((n=new DC.Billboard(t,e.billboard.image)).attr=Oe({},e.properties.getValue(r.a.JulianDate.now()))),n}}],(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ToCartesian(e._position)})),this._delegate.billboard=Oe({},this._style,{image:new r.a.CallbackProperty((function(t){return e._icon})),width:new r.a.CallbackProperty((function(t){return e._size[0]||32})),height:new r.a.CallbackProperty((function(t){return e._size[1]||32}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=Oe({},t,{text:e}),this}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.billboard&&DC.Util.merge(this._delegate.billboard,this._style)),this}},{key:"position",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.Billboard: the position invalid");this._position=e},get:function(){return this._position}},{key:"icon",set:function(e){this._icon=e},get:function(){return this._icon}},{key:"size",set:function(e){if(!Array.isArray(e))throw new Error("DC.Billboard: the size invalid");this._size=e},get:function(){return this._size}}])&&Ee(n.prototype,o),i&&Ee(n,i),c}(J),DC.OverlayType.BILLBOARD="billboard",DC.Circle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=Ue(t);if(He()){var r=Ue(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return xe(this,e)});function c(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPosition(e))throw new Error("DC.Circle: the center invalid");return(n=a.call(this))._center=e,n._radius=t||0,n._delegate=new r.a.Entity,n._rotateAmount=0,n._stRotation=0,n._state=DC.OverlayState.INITIALIZED,n.type=DC.OverlayType.CIRCLE,n}return n=c,(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ToCartesian(e._center)})),this._delegate.orientation=new r.a.CallbackProperty((function(t){return r.a.Transforms.headingPitchRollQuaternion(DC.T.transformWGS84ToCartesian(e._center),new r.a.HeadingPitchRoll(r.a.Math.toRadians(e._center.heading),r.a.Math.toRadians(e._center.pitch),r.a.Math.toRadians(e._center.roll)))})),this._delegate.ellipse=Le({},this._style,{semiMajorAxis:new r.a.CallbackProperty((function(t){return e._radius})),semiMinorAxis:new r.a.CallbackProperty((function(t){return e._radius})),stRotation:new r.a.CallbackProperty((function(t){return e._rotateAmount>0&&(e._stRotation+=e._rotateAmount,e._stRotation>=360&&(e._stRotation=0)),e._stRotation}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=Le({text:e},t),this}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.ellipse&&DC.Util.merge(this._delegate.ellipse,this._style)),this}},{key:"center",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.Circle: the center invalid");this._center=e},get:function(){return this._center}},{key:"radius",set:function(e){this._radius=e},get:function(){return this._redius}},{key:"rotateAmount",set:function(e){this._rotateAmount=e},get:function(){return this._rotateAmount}}])&&Ie(n.prototype,o),i&&Ie(n,i),c}(J),DC.OverlayType.CIRCLE="circle",DC.Label=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=Je(t);if(Ze()){var r=Je(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Fe(this,e)});function c(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPosition(e))throw new Error("DC.Label: the position invalid");return(n=a.call(this))._position=e,n._text=t,n._delegate=new r.a.Entity,n._state=DC.OverlayState.INITIALIZED,n.type=DC.OverlayType.LABEL,n}return n=c,i=[{key:"fromEntity",value:function(e){var t=DC.T.transformCartesianToWGS84(e.position.getValue(r.a.JulianDate.now())),n=void 0;return e.billboard&&((n=new DC.Label(t,item.name)).attr=Ve({},e.properties.getValue(r.a.JulianDate.now()))),n}}],(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ToCartesian(e._position)})),this._delegate.label=Ve({},this._style,{text:new r.a.CallbackProperty((function(t){return e._text}))})}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.label&&DC.Util.merge(this._delegate.label,this._style)),this}},{key:"position",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.Label: the position invalid");this._position=e},get:function(){return this._position}},{key:"text",set:function(e){this._text=e},get:function(){return this._text}}])&&Be(n.prototype,o),i&&Be(n,i),c}(J),DC.OverlayType.LABEL="label",DC.DivIcon=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=Qe(t);if($e()){var r=Qe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return qe(this,e)});function a(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),!DC.Util.checkPosition(e))throw new Error("DC.DivIcon: the position invalid");return(n=i.call(this))._position=e,n._delegate=DC.DomUtil.create("div","div-icon"),n._delegate.setAttribute("id",n._id),DC.Util.merge(n._delegate.style,{position:"absolute",top:"0",left:"0"}),n.content=t,n._state=DC.OverlayState.INITIALIZED,n.type=DC.OverlayType.DIVICON,n}return n=a,(r=[{key:"_updateStyle",value:function(e,t){var n="translate3d(0,0,0)";if(e.transform){var r=e.transform.x-this._delegate.offsetWidth/2,o=e.transform.y-this._delegate.offsetHeight/2;n="translate3d(".concat(Math.round(r),"px,").concat(Math.round(o),"px, 0)")}var i="scale3d(1,1,1)",a=this._style.scaleByDistance;if(t&&a){var c=a.nearValue,s=a.farValue,u=t/a.far;if(t<a.near)i="scale3d(".concat(c,",").concat(c,",1)");else if(t>a.far)i="scale3d(".concat(s,",").concat(s,",1)");else{var l=s+u*(c-s);i="scale3d(".concat(l,",").concat(l,",1)")}}var f=this._style.distanceDisplayCondition;t&&f&&(this.show=DC.Math.isBetween(t,f.near,f.far)),this._delegate.style.transform="".concat(n," ").concat(i)}},{key:"_addHandler",value:function(e){var t=this;this._layer=e,this._layer.delegate.appendChild(this._delegate),this._delegate.addEventListener("click",(function(n){t._overlayEvent.fire(DC.MouseEventType.CLICK,{layer:e,overlay:t,position:DC.T.transformWGS84ToCartesian(t._position)})})),this._state=DC.OverlayState.ADDED}},{key:"_removeHandler",value:function(){this._layer&&(this._layer.delegate.removeChild(this._delegate),this._state=DC.OverlayState.REMOVED)}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,e.className&&DC.DomUtil.addClass(this._delegate,e.className)),this}},{key:"show",set:function(e){this._show=e,this._delegate.style.visibility=this._show?"visible":"hidden"},get:function(){return this._show}},{key:"position",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.DivIcon: the position invalid");this._position=e},get:function(){return this._position}},{key:"content",set:function(e){e&&"string"==typeof e?this._delegate.innerHTML=e:e&&e instanceof Element&&this._delegate.appendChild(e)}}])&&Ye(n.prototype,r),o&&Ye(n,o),a}(J),DC.OverlayType.DIVICON="divIcon",DC.Model=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=st(t);if(ct()){var r=st(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return at(this,e)});function c(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!DC.Util.checkPosition(e))throw new Error("DC.Model: the position invalid");return(n=a.call(this))._position=e,n._modelUrl=t,n._delegate=new r.a.Entity,n._state=DC.OverlayState.INITIALIZED,n._rotateAmount=0,n.type=DC.OverlayType.MODEL,n}return n=c,(o=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new r.a.CallbackProperty((function(t){return DC.T.transformWGS84ToCartesian(e._position)})),this._delegate.orientation=new r.a.CallbackProperty((function(t){return e._rotateAmount>0&&(e._position.heading+=e._rotateAmount,360===e._position.heading&&(e._position.heading=0)),r.a.Transforms.headingPitchRollQuaternion(DC.T.transformWGS84ToCartesian(e._position),new r.a.HeadingPitchRoll(r.a.Math.toRadians(e._position.heading),r.a.Math.toRadians(e._position.pitch),r.a.Math.toRadians(e._position.roll)))})),this._delegate.model=nt({},this._style,{uri:new r.a.CallbackProperty((function(t){return e._modelUrl}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=nt({},t,{text:e}),this}},{key:"setStyle",value:function(e){return 0==Object.keys(e).length||(this._style=e,this._delegate.model&&DC.Util.merge(this._delegate.model,this._style)),this}},{key:"position",set:function(e){if(!DC.Util.checkPosition(e))throw new Error("DC.Model: the position invalid");this._position=e},get:function(){return this._position}},{key:"modelUrl",set:function(e){this._modelUrl=e},get:function(){return this._modelUrl}},{key:"rotateAmount",set:function(e){this._rotateAmount=e},get:function(){return this._rotateAmount}}])&&ot(n.prototype,o),i&&ot(n,i),c}(J),DC.OverlayType.MODEL="model",DC.Tileset=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=mt(t);if(_t()){var r=mt(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return dt(this,e)});function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pt(this,c),(t=a.call(this))._delegate=new r.a.Cesium3DTileset(ft({},n,{url:e})),t._state=DC.OverlayState.INITIALIZED,t._delegate.tileVisible.addEventListener(t._tileVisibleHandler,bt(t)),t._height=void 0,t._properties=void 0,t._stopTime=void 0,t._duration=void 0,t._center=void 0,t.type=DC.OverlayType.TILESET,t}return n=c,(o=[{key:"_addHandler",value:function(e){var t=this;if(!e)return!1;this._layer=e,this._delegate.readyPromise.then((function(n){t._layer.delegate.add(n),n.layer=e,n.overlayId=t._id,t._state=DC.OverlayState.ADDED}))}},{key:"_removeHandler",value:function(){var e=this;if(!this._layer)return!1;this._delegate.readyPromise.then((function(t){e._layer.delegate.remove(t),e._state=DC.OverlayState.REMOVED}))}},{key:"_tileVisibleHandler",value:function(e){this._updateProperties(e),this._updateHeight(e)}},{key:"_updateProperties",value:function(e){var t=this;if(this._properties&&this._properties.length)for(var n=e.content,r=function(e){var r=n.getFeature(e);t._properties.forEach((function(e){r.hasProperty(e.key)&&r.getProperty(e.key)===e.keyValue&&r.setProperty(e.propertyName,e.propertyValue)}))},o=0;o<n.featuresLength;o++)r(o)}},{key:"_updateHeight",value:function(e){if(this._duration){var t=this._height/this._duration,n=r.a.JulianDate.now();this._stopTime&&r.a.JulianDate.greaterThan(this._stopTime,n)&&this._setHeight((this._duration-r.a.JulianDate.secondsDifference(this._stopTime,n))*t)}}},{key:"_setHeight",value:function(e){var t=this;this._delegate.readyPromise.then((function(n){var o=r.a.Cartesian3.fromRadians(t._center.longitude,t._center.latitude,t._center.height),i=r.a.Cartesian3.fromRadians(t._center.longitude,t._center.latitude,t._center.height+e),a=r.a.Cartesian3.subtract(i,o,new r.a.Cartesian3);n.modelMatrix=r.a.Matrix4.fromTranslation(a)}))}},{key:"setPosition",value:function(e){return DC.Util.checkPosition(e)?(this._delegate.readyPromise.then((function(t){var n=r.a.Transforms.eastNorthUpToFixedFrame(r.a.Cartesian3.fromDegrees(e.lng,e.lat,e.alt)),o=r.a.Matrix4.fromRotationTranslation(r.a.Matrix3.fromRotationZ(r.a.Math.toRadians(e.heading)));r.a.Matrix4.multiply(n,o,n),t.root.transform=n})),this):this}},{key:"setHeight",value:function(e,t){var n=this;return this._height=e,this._delegate.readyPromise.then((function(e){n._center=r.a.Cartographic.fromCartesian(e.boundingSphere.center),t?(n._duration=t,n._stopTime=r.a.JulianDate.addSeconds(r.a.JulianDate.now(),t,new r.a.JulianDate)):n._setHeight(n._height)})),this}},{key:"setScale",value:function(e){return this._delegate.readyPromise.then((function(t){var n=t.root.transform;e>0&&1!==e&&r.a.Matrix4.multiplyByUniformScale(n,e,n),t.root.transform=n})),this}},{key:"setFeatureProperty",value:function(e){return this._properties=e,this}},{key:"setStyle",value:function(e){return e&&e instanceof r.a.Cesium3DTileStyle&&(this._style=e,this._delegate&&(this._delegate.style=this._style)),this}},{key:"readyPromise",get:function(){return this._delegate.readyPromise}}])&&ht(n.prototype,o),i&&ht(n,i),c}(J),DC.OverlayType.TILESET="tileset"},123:function(e,t,n){"use strict";n.r(t);var r=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l="https://webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",f="http://webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,e);var t,n=(t=r,function(){var e,n=u(t);if(s()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,r),e.url="img"===e.style?l:f,e.subdomains&&e.subdomains.length||(e.subdomains=["01","02","03","04"]),n.call(this,e)}return r}(r.a.UrlTemplateImageryProvider);DC.ImageryType.AMAP="amap";var p=y;function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d="http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}",b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._url=d,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._tilingScheme=new r.a.WebMercatorTilingScheme({rectangleSouthwestInMeters:new r.a.Cartesian2(-33554054,-33746824),rectangleNortheastInMeters:new r.a.Cartesian2(33554054,33746824)}),this._rectangle=this._tilingScheme.rectangle,this._credit=void 0,this._style=t.style||"normal"}var t,n,o;return t=e,(n=[{key:"getTileCredits",value:function(e,t,n){}},{key:"requestImage",value:function(e,t,n){if(!this.ready)throw new r.a.DeveloperError("requestImage must not be called before the imagery provider is ready.");var o=this._tilingScheme.getNumberOfXTilesAtLevel(n),i=this._tilingScheme.getNumberOfYTilesAtLevel(n),a=this._url.replace("{x}",e-o/2).replace("{y}",i/2-t-1).replace("{z}",n).replace("{s}",1).replace("{style}",this._style);return r.a.ImageryProvider.loadImage(this,a)}},{key:"url",get:function(){return this._url}},{key:"token",get:function(){return this._token}},{key:"tileWidth",get:function(){if(!this.ready)throw new r.a.DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},{key:"tileHeight",get:function(){if(!this.ready)throw new r.a.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},{key:"maximumLevel",get:function(){if(!this.ready)throw new r.a.DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},{key:"minimumLevel",get:function(){if(!this.ready)throw new r.a.DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 0}},{key:"tilingScheme",get:function(){if(!this.ready)throw new r.a.DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},{key:"rectangle",get:function(){if(!this.ready)throw new r.a.DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},{key:"ready",get:function(){return!!this._url}},{key:"credit",get:function(){return this._credit}}])&&v(t.prototype,n),o&&v(t,o),e}();DC.ImageryType.BAIDU="baidu";var _=b;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E="http://mt{s}.google.cn/vt/lyrs=m@207000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galile",S="http://mt{s}.google.cn/vt/lyrs=t@131,r@227000000&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}&s=Galile",k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,e);var t,n=(t=r,function(){var e,n=D(t);if(O()){var r=D(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return C(this,e)});function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,r),e.url="img"===e.style?"http://mt{s}.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali":"ter"===e.style?S:E,e.subdomains&&e.subdomains.length||(e.subdomains=["1","2","3","4","5"]),n.call(this,e)}return r}(r.a.UrlTemplateImageryProvider);DC.ImageryType.GOOGLE="google";var P=k;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H="http://t{s}.tianditu.gov.cn/{layer}_c/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer={layer}&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk={key}",U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,e);var t,n=(t=o,function(){var e,n=x(t);if(A()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return I(this,e)});function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(this,o),n.call(this,{url:H.replace(/\{layer\}/g,e.style||"vec").replace(/\{key\}/g,e.key||""),style:"default",format:"tiles",tileMatrixSetID:"c",subdomains:j(Array(6).keys()).map((function(e){return(e+1).toString()})),tileMatrixLabels:j(Array(18).keys()).map((function(e){return(e+1).toString()})),tilingScheme:new r.a.GeographicTilingScheme,maximumLevel:18})}return o}(r.a.WebMapTileServiceImageryProvider);DC.ImageryType.TDT="tdt";var W=U;function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,e);var t,n=(t=r,function(){var e,n=F(t);if(z()){var r=F(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return B(this,e)});function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return V(this,r),e.url="https://rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=1000&scene=0&version=347",e.subdomains&&e.subdomains.length||(e.subdomains=["0","1","2"]),n.call(this,e)}return r}(r.a.UrlTemplateImageryProvider);DC.ImageryType.TENCENT="tdt";var J=Z;function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}DC.ImageryLayerFactory=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"createAmapImageryLayer",value:function(e){return new p(e)}},{key:"createBaiduImageryLayer",value:function(e){return new _(e)}},{key:"createGoogleImageryLayer",value:function(e){return new P(e)}},{key:"createTdtImageryLayer",value:function(e){return new W(e)}},{key:"createTencentImageryLayer",value:function(e){return new J(e)}},{key:"createArcGisImageryLayer",value:function(e){return new r.a.ArcGisMapServerImageryProvider(e)}},{key:"createSingleTileImageryLayer",value:function(e){return new r.a.SingleTileImageryProvider(e)}},{key:"createWMTSImageryLayer",value:function(e){return new r.a.WebMapTileServiceImageryProvider(e)}},{key:"createXYZImageryLayer",value:function(e){return new r.a.UrlTemplateImageryProvider(e)}},{key:"createCoordImageryLayer",value:function(e){return new r.a.TileCoordinatesImageryProvider(e)}},{key:"createImageryLayer",value:function(e,t){var n=void 0;switch(e){case DC.ImageryType.AMAP:n=this.createAmapImageryLayer(t);break;case DC.ImageryType.BAIDU:n=this.createBaiduImageryLayer(t);break;case DC.ImageryType.GOOGLE:n=this.createGoogleImageryLayer(t);break;case DC.ImageryType.TDT:n=this.createTdtImageryLayer(t);break;case DC.ImageryType.TENCENT:n=this.createTencentImageryLayer(t);break;case DC.ImageryType.ARCGIS:n=this.createArcGisImageryLayer(t);break;case DC.ImageryType.SINGLE_TILE:n=this.createSingleTileImageryLayer(t);break;case DC.ImageryType.WMTS:n=this.createWMTSImageryLayer(t);break;case DC.ImageryType.XYZ:n=this.createXYZImageryLayer(t);break;case DC.ImageryType.COORD:n=this.createCoordImageryLayer(t)}return n}}],(n=null)&&K(t.prototype,n),o&&K(t,o),e}(),DC.TerrainFactory=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"createEllipsoidTerrain",value:function(e){return new r.a.EllipsoidTerrainProvider(e)}},{key:"createUrlTerrain",value:function(e){return new r.a.CesiumTerrainProvider(e)}},{key:"createGoogleTerrain",value:function(e){return new r.a.GoogleEarthEnterpriseTerrainProvider(e)}},{key:"createArcgisTerrain",value:function(e){return new r.a.ArcGISTiledElevationTerrainProvider(e)}},{key:"createVRTerrain",value:function(e){return new r.a.VRTheWorldTerrainProvider(e)}}],(n=null)&&Y(t.prototype,n),o&&Y(t,o),e}(),DC.Position=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lng=t||0,this._lat=n||0,this._alt=r||0,this._heading=o||0,this._pitch=i||0,this._roll=a||0}var t,n,o;return t=e,o=[{key:"copy",value:function(e){var t=new DC.Position;return e&&(t.lng=e.lng||0,t.lat=e.lat||0,t.alt=e.alt||0,t.heading=e.heading||0,t.pitch=e.pitch||0,t.roll=e.roll||0),t}},{key:"deserialize",value:function(e){var t=new DC.Position,n=JSON.parse(e);return n&&(t.lng=n.lng||0,t.lat=n.lat||0,t.alt=n.alt||0,t.heading=n.heading||0,t.pitch=n.pitch||0,t.roll=n.roll||0),t}},{key:"fromCoordString",value:function(e){var t=new DC.Position;return e&&"string"==typeof e&&(t=this.fromCoordArray(e.split(","))),t}},{key:"fromCoordArray",value:function(e){var t=new DC.Position;return Array.isArray(e)&&(t.lng=e[0]||0,t.lat=e[1]||0,t.alt=e[2]||0),t}}],(n=[{key:"serialize",value:function(){var e=new DC.Position(this._lng,this._lat,this._alt,this._heading,this._pitch,this._roll);return JSON.stringify(e)}},{key:"distance",value:function(e){return e&&e instanceof DC.Position?r.a.Cartesian3.distance(DC.T.transformWGS84ToCartesian(this),DC.T.transformWGS84ToCartesian(e)):0}},{key:"lng",set:function(e){this._lng=e},get:function(){return this._lng}},{key:"lat",set:function(e){this._lat=e},get:function(){return this._lat}},{key:"alt",set:function(e){this._alt=e},get:function(){return this._alt}},{key:"heading",set:function(e){this._heading=e},get:function(){return this._heading}},{key:"pitch",set:function(e){this._pitch=e},get:function(){return this._pitch}},{key:"roll",set:function(e){this._roll=e},get:function(){return this._roll}}])&&X(t.prototype,n),o&&X(t,o),e}();var $=new r.a.WebMercatorProjection;DC.T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"transformCartesianToWGS84",value:function(e){if(e){var t=r.a.Ellipsoid.WGS84.cartesianToCartographic(e);return new DC.Position(r.a.Math.toDegrees(t.longitude),r.a.Math.toDegrees(t.latitude),t.height)}return new DC.Position(0,0)}},{key:"transformWGS84ToCartesian",value:function(e){return e?r.a.Cartesian3.fromDegrees(e.lng,e.lat,e.alt,r.a.Ellipsoid.WGS84):r.a.Cartesian3.ZERO}},{key:"transformWGS84ToCartographic",value:function(e){return e?r.a.Cartographic.fromDegrees(e.lng,e.lat,e.alt):r.a.Cartographic.ZERO}},{key:"transformCartesianArrayToWGS84Array",value:function(e){return e?e.map((function(e){return DC.T.transformCartesianToWGS84(e)})):[]}},{key:"transformWGS84ArrayToCartesianArray",value:function(e){return e?e.map((function(e){return DC.T.transformWGS84ToCartesian(e)})):[]}},{key:"transformWGS84ToMercator",value:function(e){var t=$.project(r.a.Cartographic.fromDegrees(e.lng,e.lat,e.alt));return new DC.Position(t.x,t.y,t.z)}},{key:"transformMercatorToWGS84",value:function(e){var t=$.unproject(new r.a.Cartesian3(e.lng,e.lat,e.alt));return new DC.Position(r.a.Math.toDegrees(t.longitude),r.a.Math.toDegrees(t.latitude),t.height)}},{key:"transformWindowToWGS84",value:function(e,t){var n=t.scene;if(n.mode===DC.SceneMode.SCENE3D){var o=n.camera.getPickRay(e);cartesian=n.globe.pick(o,n)}else cartesian=n.camera.pickEllipsoid(e,r.a.Ellipsoid.WGS84);return DC.T.transformCartesianToWGS84(cartesian)}},{key:"transformWGS84ToWindow",value:function(e,t){var n=t.scene;return SceneTransforms.wgs84ToWindowCoordinates(n,DC.T.transformWGS84ToCartesian(e))}}],(n=null)&&q(t.prototype,n),o&&q(t,o),e}();n(110);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=t,this._options={},this._init()}var t,n,o;return t=e,(n=[{key:"_init",value:function(){this._viewer.delegate.cesiumWidget._creditContainer.style.display="none",this._viewer.delegate.cesiumWidget.screenSpaceEventHandler.removeInputAction(r.a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._viewer.scene.screenSpaceCameraController.maximumZoomDistance=40489014,this._viewer.scene.backgroundColor=r.a.Color.TRANSPARENT,this._viewer.delegate.imageryLayers.removeAll()}},{key:"_setViewerOption",value:function(){return this._viewer.delegate.shadows=r.a.defaultValue(this._options.shadows,!1),this}},{key:"_setCanvasOption",value:function(){return options.tabIndex&&this._viewer.scene.canvas.setAttribute("tabIndex",this._options.tabIndex),this}},{key:"_setSceneOption",value:function(){var e=this._viewer.scene;return e.skyAtmosphere.show=r.a.defaultValue(this._options.showAtmosphere,!0),e.sun.show=r.a.defaultValue(this._options.showSun,!0),e.moon.show=r.a.defaultValue(this._options.showMoon,!0),e.skyBox.show=r.a.defaultValue(this._options.showSkyBox,!0),e.postProcessStages.fxaa.enabled=r.a.defaultValue(this._options.enableFxaa,!1),e.screenSpaceCameraController.enableRotate=r.a.defaultValue(this._options.enableRotate,!0),e.screenSpaceCameraController.enableTilt=r.a.defaultValue(this._options.enableTilt,!0),e.screenSpaceCameraController.enableTranslate=r.a.defaultValue(this._options.enableTranslate,!0),e.screenSpaceCameraController.enableZoom=r.a.defaultValue(this._options.enableZoom,!0),e.screenSpaceCameraController.minimumZoomDistance=r.a.defaultValue(this._options.distanceRange[0],1),e.screenSpaceCameraController.maximumZoomDistance=r.a.defaultValue(this._options.distanceRange[1],40489014),this}},{key:"_setGlobeOption",value:function(){var e=this._viewer.scene.globe;return e.show=r.a.defaultValue(this._options.showGlobe,!0),e.enableLighting=r.a.defaultValue(this._options.enableLighting,!1),e.depthTestAgainstTerrain=r.a.defaultValue(this._options.undergroundMode,!1),e.tileCacheSize=r.a.defaultValue(this._options.tileCacheSize,100),this}},{key:"_setClockOption",value:function(){return this._viewer.clock.shouldAnimate=r.a.defaultValue(this._options.shouldAnimate,!0),this}},{key:"setOptions",value:function(e){return 0===Object.keys(e).length||(this._options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({distanceRange:[1,40489014]},this._options,{},e),this._setViewerOption()._setCanvasOption()._setSceneOption()._setGlobeOption()._setClockOption()),this}}])&&te(t.prototype,n),o&&te(t,o),e}();function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=t}var t,n,o;return t=e,(n=[{key:"setPitchRange",value:function(e,t){var n=this,o=new r.a.ScreenSpaceEventHandler(this._viewer.scene.canvas);this._viewer.scene.mode===r.a.SceneMode.SCENE3D&&(o.setInputAction((function(i){o.setInputAction((function(o){var i=!0,a=o.endPosition.y<o.startPosition.y;i=!(a&&n._viewer.camera.pitch>r.a.Math.toRadians(t)||!a&&n._viewer.camera.pitch<r.a.Math.toRadians(e)),n._viewer.scene.screenSpaceCameraController.enableTilt=i}),r.a.ScreenSpaceEventType.MOUSE_MOVE)}),r.a.ScreenSpaceEventType.MIDDLE_DOWN),o.setInputAction((function(e){n._viewer.scene.screenSpaceCameraController.enableTilt=!0,o.removeInputAction(r.a.ScreenSpaceEventType.MOUSE_MOVE)}),r.a.ScreenSpaceEventType.MIDDLE_UP))}},{key:"limitCameraToGround",value:function(){var e=this;this._viewer.camera.changed.addEventListener((function(t){e._viewer.camera._suspendTerrainAdjustment&&e._viewer.scene.mode===r.a.SceneMode.SCENE3D&&(e._viewer.camera._suspendTerrainAdjustment=!1,e._viewer.camera._adjustOrthographicFrustum(!0))}))}},{key:"setBounds",value:function(e,t,n,r){}}])&&re(t.prototype,n),o&&re(t,o),e}(),ie=n(22);function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=void 0,this._position=void 0,this._enable=!1,this._wrapper=void 0,this._positionChangeable=!1,this._state=DC.WidgetState.INSTALLED,this.type=void 0}var t,n,o;return t=e,(n=[{key:"_enableHook",value:function(){!this._wrapper.parentNode&&this._viewer&&this._wrapper&&this._viewer.dcContainer.appendChild(this._wrapper),this._wrapper&&(this._wrapper.style.visibility=this._enable?"visible":"hidden")}},{key:"_updateWindowCoord",value:function(e){}},{key:"_installHook",value:function(){}},{key:"install",value:function(e){if(this._viewer=e,this._state=DC.WidgetState.INSTALLED,this._viewer&&this._wrapper&&this._positionChangeable){var t=this,n=this._viewer.scene;n.postRender.addEventListener((function(){if(t._position&&t._enable&&t._updateWindowCoord&&"visible"===t._wrapper.style.visibility){var e=r.a.SceneTransforms.wgs84ToWindowCoordinates(n,t._position);e&&t._updateWindowCoord(e)}}))}this._installHook&&this._installHook()}},{key:"setContent",value:function(e){return e&&"string"==typeof e?this._wrapper.innerHTML=e:e&&e instanceof Element&&this._wrapper.appendChild(e),this}},{key:"hide",value:function(){this._wrapper&&(this._wrapper.style.cssText="\n    visibility:hidden;\n    ")}},{key:"enable",set:function(e){this._enable=e,this._state=this._enable?DC.WidgetState.ENABLED:DC.WidgetState.DISABLED,this._enableHook&&this._enableHook()},get:function(){return this._enable}},{key:"state",get:function(){return this._state}}])&&ae(t.prototype,n),o&&ae(t,o),e}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=pe(t);if(ye()){var r=pe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return fe(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=DC.DomUtil.create("div","dc-attribution"),e._wrapper.style.cssText="\n      position: absolute;\n      left: 2px;\n      bottom: 2px;\n      font-size: 14px;\n      color: rgb(255, 255, 255);\n      background: rgba(0,0,0,0.6);\n      padding: 2px 5px;\n      border-radius: 2px;\n      user-select: none;\n      box-shadow: 2px 2px 3px #2b2b2b;\n    ",e._config=void 0,e.type=DC.WidgetType.ATTRIBUTION,e}return n=a,(r=[{key:"_installHook",value:function(){var e=DC.DomUtil.create("span","",this._wrapper);e.innerHTML="数字视觉",e.style.cssText="margin-right:5px;";var t=DC.DomUtil.create("a","",this._wrapper);t.innerHTML="Digital Visual",t.href="javascirpt:void(0)",t.onclick=function(){window.open("http://www.dvgis.cn")},t.style.cssText="color:#0078A8;",this.enable=!0}}])&&ue(n.prototype,r),o&&ue(n,o),a}(ce);DC.WidgetType.ATTRIBUTION="attribution";var ve=he;function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=we(t);if(ge()){var r=we(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return me(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this))._wrapper=DC.DomUtil.create("div","dc-context-menu"),e._ulEl=DC.DomUtil.create("ul","menu-list",e._wrapper),e._config={},e._positionChangeable=!0,e.type=DC.WidgetType.CONTEXT_MENU,e}return n=c,(o=[{key:"_installHook",value:function(){this._viewer&&(this._viewer.on(DC.MouseEventType.RIGHT_CLICK,this._rightclickHandler,this),this._viewer.on(DC.MouseEventType.CLICK,this._clickHandler,this)),this._prepareDefaultMenu()}},{key:"_prepareDefaultMenu",value:function(){var e=DC.DomUtil.create("li","menu-item",this._ulEl);e.innerHTML="飞到默认位置";var t=this;e.onclick=function(){t._viewer.delegate.camera.flyHome(0),t.hide()}}},{key:"_rightclickHandler",value:function(e){e&&e.position&&this._enable&&this._updateWindowCoord&&this._updateWindowCoord(r.a.SceneTransforms.wgs84ToWindowCoordinates(this._viewer.delegate.scene,e.position))}},{key:"_clickHandler",value:function(e){this.hide()}},{key:"_updateWindowCoord",value:function(e){this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(e.x),"px,").concat(Math.round(e.y),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){DC.DomUtil.setClass(this._wrapper,"dc-context-menu ".concat(this._config.customClass))}},{key:"addMenuItem",value:function(e,t,n){if(!e||!t)return this;var r=DC.DomUtil.create("li","menu-item"),o=this._ulEl.lastChild;r.innerHTML=e;var i=this;return t&&(r.onclick=function(){t.call(n),i.hide()}),this._ulEl.insertBefore(r,o),this}},{key:"config",set:function(e){this._config=e,e.customClass&&this._setCustomClass()}}])&&be(n.prototype,o),i&&be(n,i),c}(ce);DC.WidgetType.CONTEXT_MENU="contextmenu";var Oe=Ce;function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=Te(t);if(Pe()){var r=Te(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ke(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=DC.DomUtil.create("div","dc-location-bar"),e._mouseEl=DC.DomUtil.create("div","mouse-location",e._wrapper),e._cameraEl=DC.DomUtil.create("div","camera-location",e._wrapper),e}return n=a,(r=[{key:"_installHook",value:function(){this._viewer.on(DC.MouseEventType.MOUSE_MOVE,this._moveHandler,this),this._viewer.on(DC.SceneEventType.CAMERA_CHANGED,this._cameraHandler,this)}},{key:"_moveHandler",value:function(e){this._enable}},{key:"_cameraHandler",value:function(e){this._enable}}])&&Ee(n.prototype,r),o&&Ee(n,o),a}(ce);DC.WidgetType.LOCATION_BAR="locationBar";var Re=je;function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=He(t);if(xe()){var r=He(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ae(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this))._wrapper=DC.DomUtil.create("div","dc-slider"),e._baseLayer=void 0,e._moveActive=!1,e}return n=c,(o=[{key:"_installHook",value:function(){var e=new r.a.ScreenSpaceEventHandler(this._wrapper),t=this;e.setInputAction((function(){t._moveActive=!0}),r.a.ScreenSpaceEventType.LEFT_DOWN),e.setInputAction((function(){t._moveActive=!0}),r.a.ScreenSpaceEventType.PINCH_START),e.setInputAction((function(e){t._moveHandler(e)}),r.a.ScreenSpaceEventType.MOUSE_MOVE),e.setInputAction((function(e){t._moveHandler(e)}),r.a.ScreenSpaceEventType.PINCH_MOVE),e.setInputAction((function(){t._moveActive=!1}),r.a.ScreenSpaceEventType.LEFT_UP),e.setInputAction((function(){t._moveActive=!1}),r.a.ScreenSpaceEventType.PINCH_END)}},{key:"_moveHandler",value:function(e){if(this._moveActive&&this._enable){var t=e.endPosition.x,n=(this._wrapper.offsetLeft+t)/this._wrapper.parentElement.offsetWidth;this._wrapper.style.left=100*n+"%",this._viewer.scene.imagerySplitPosition=n}}},{key:"addBaseLayer",value:function(e,t){return this._viewer&&this._enable?(e&&(this._baseLayer&&this._viewer.delegate.imageryLayers.remove(this._baseLayer),this._baseLayer=this._viewer.delegate.imageryLayers.addImageryProvider(e),this._baseLayer.splitDirection=t||0,this._viewer.scene.imagerySplitPosition=this._wrapper.offsetLeft/this._wrapper.parentElement.offsetWidth),this):this}}])&&Me(n.prototype,o),i&&Me(n,i),c}(ce);DC.WidgetType.MAPSPLIT="mapsplit";var We=Ue;function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=Fe(t);if(ze()){var r=Fe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Be(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=DC.DomUtil.create("div","dc-map-switch"),e._config=void 0,e._cache=[],e.type=DC.WidgetType.MAPSWITCH,e}return n=a,(r=[{key:"_enableHook",value:function(){!this._wrapper.parentNode&&this._viewer&&this._wrapper&&this._viewer.dcContainer.appendChild(this._wrapper)}},{key:"_installHook",value:function(){var e=this;this.enable=!0;var t=this;this._wrapper.onmouseover=function(){var n=80;t._cache.length>0&&(n=85.7*t._cache.length),e._wrapper.style.width="".concat(n,"px")},this._wrapper.onmouseout=function(){t._wrapper.style.width="80px"}}},{key:"_addItem",value:function(e){var t=this,n=DC.DomUtil.create("div","map-item",this._wrapper),r=this._cache.length?this._cache.length-1:0;n.setAttribute("data-index",r),n.onclick=function(e){var n=document.getElementsByClassName("map-item active");n&&n.length&&(n[0].className="map-item"),t._viewer&&(e.target.className="map-item active",t._viewer.changeBaseLayer(Number(e.target.getAttribute("data-index")||0)))},e.iconUrl&&(n.style.cssText="\n       background:url(".concat(e.iconUrl,");\n    ")),DC.DomUtil.create("span","",n).innerHTML=e.name||"地图"}},{key:"addMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._enable&&(this._cache.push(e),this._addItem(e),this._cache.length>1&&(this._wrapper.style.visibility="visible"))}}])&&Ve(n.prototype,r),o&&Ve(n,o),a}(ce);DC.WidgetType.MAPSWITCH="mapswitch";var Je=Ze;function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=Qe(t);if($e()){var r=Qe(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return qe(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=DC.DomUtil.create("div","dc-popup"),e._config=void 0,e._positionChangeable=!0,e.type=DC.WidgetType.POPUP,e}return n=a,(r=[{key:"_installHook",value:function(){this.enable=!0}},{key:"_updateWindowCoord",value:function(e){var t=e.x-this._wrapper.offsetWidth/2,n=e.y-this._wrapper.offsetHeight;this._config&&"left"===this._config.position?t=e.x-this._wrapper.offsetWidth:this._config&&"right"===this._config.position&&(t=e.x),this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(n),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){DC.DomUtil.setClass(this._wrapper,"dc-popup ".concat(this._config.customClass))}},{key:"setPosition",value:function(e){return this._position=e,this._wrapper&&(this._wrapper.style.cssText="\n    visibility:visible;\n    "),this}},{key:"config",set:function(e){this._config=e,e.customClass&&this._setCustomClass()}}])&&Ye(n.prototype,r),o&&Ye(n,o),a}(ce);DC.WidgetType.POPUP="popup";var tt=et;function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=ct(t);if(at()){var r=ct(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return it(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=DC.DomUtil.create("div","dc-tool-tip"),e.type=DC.WidgetType.TOOLTIP,e}return n=a,(r=[{key:"_updateWindowCoord",value:function(e){var t=e.x+10,n=e.y-this._wrapper.offsetHeight/2;this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(n),"px, 0);\n    ")}},{key:"showAt",value:function(e,t){return e&&this._updateWindowCoord(e),this.setContent(t),this}}])&&rt(n.prototype,r),o&&rt(n,o),a}(ce);DC.WidgetType.TOOLTIP="tooltip";var ut=st;function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t={animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,creditContainer:void 0},mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=bt(t);if(dt()){var r=bt(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return vt(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this))._wrapper=DC.DomUtil.create("div","dc-hawkeye-map"),e._wrapper.setAttribute("id",DC.Util.uuid()),e._baseLayer=void 0,e._delegate=void 0,e.type=DC.WidgetType.HAWkEYEMAP,e}return n=c,(o=[{key:"_prepareDelegate",value:function(){this._delegate=new r.a.Viewer(this._wrapper,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_t,{sceneMode:r.a.SceneMode.SCENE2D})),this._delegate.scene.screenSpaceCameraController.enableRotate=!1,this._delegate.scene.screenSpaceCameraController.enableTranslate=!1,this._delegate.scene.screenSpaceCameraController.enableZoom=!1,this._delegate.scene.screenSpaceCameraController.enableTilt=!1,this._delegate.scene.screenSpaceCameraController.enableLook=!1,this._delegate.cesiumWidget._creditContainer.style.display="none",this._delegate.cesiumWidget.screenSpaceEventHandler.removeInputAction(r.a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._delegate.scene.screenSpaceCameraController.maximumZoomDistance=40489014,this._delegate.scene.backgroundColor=r.a.Color.TRANSPARENT,this._delegate.scene.postProcessStages.fxaa.enabled=!0,this._delegate.imageryLayers.removeAll()}},{key:"_installHook",value:function(){this._prepareDelegate(),this._viewer.camera.changed.addEventListener(this._sync2DView,this),this._viewer.camera.percentageChanged=.01}},{key:"_sync2DView",value:function(){var e=new r.a.Cartesian2(Math.floor(this._viewer.canvas.clientWidth/2),Math.floor(this._viewer.canvas.clientHeight/2)),t=this._viewer.scene.camera.pickEllipsoid(e);if(!t)return!1;var n=r.a.Cartesian3.distance(t,this._viewer.scene.camera.positionWC);this._delegate.scene.camera.lookAt(t,new r.a.Cartesian3(0,0,n))}},{key:"addBaseLayer",value:function(e){return this._delegate&&this._enable?(e&&(this._baseLayer&&this._delegate.imageryLayers.remove(this._baseLayer),this._baseLayer=this._delegate.imageryLayers.addImageryProvider(e)),this):this}}])&&pt(n.prototype,o),i&&pt(n,i),c}(ce);DC.WidgetType.HAWkEYEMAP="hawkeyeMap";var gt=mt;function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=St(t);if(Et()){var r=St(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Dt(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this))._wrapper=DC.DomUtil.create("div","dc-compass"),e._compassRectangle=void 0,e._outRing=void 0,e._gyro=void 0,e._rotation_marker=void 0,e._orbitCursorAngle=0,e._orbitCursorOpacity=0,e._orbitLastTimestamp=0,e._orbitFrame=void 0,e._orbitIsLook=!1,e._rotateInitialCursorAngle=void 0,e._rotateFrame=void 0,e._mouseMoveHandle=void 0,e._mouseUpHandle=void 0,e}return n=c,(o=[{key:"_installHook",value:function(){var e=this;this._createCompassDom(),this._wrapper.onmousedown=function(t){e._handleMouseDown(t)},this._wrapper.ondblclick=function(t){e._handleDoubleClick(t)},this._removeSubscription=this._viewer.scene.postRender.addEventListener((function(){var t=e._viewer.camera.heading;e._outRing.style.cssText="\n      transform : rotate(-".concat(t,"rad);\n      -webkit-transform : rotate(-").concat(t,"rad);\n      ")}),this)}},{key:"_createCompassDom",value:function(){DC.DomUtil.create("div","out-ring-bg",this._wrapper),this._outRing=DC.DomUtil.create("div","out-ring",this._wrapper),DC.DomUtil.createSvg(145,145,"m 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z",this._outRing),DC.DomUtil.create("div","gyro-bg",this._wrapper),this._gyro=DC.DomUtil.create("div","gyro",this._wrapper),DC.DomUtil.createSvg(145,145,"m 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z",this._gyro),this._rotation_marker=DC.DomUtil.create("div","rotation_marker",this._wrapper),DC.DomUtil.createSvg(145,145,"M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z",this._rotation_marker),this._rotation_marker.style.visibility="hidden"}},{key:"_handleMouseDown",value:function(e){if(this._viewer.scene.mode===r.a.SceneMode.MORPHING)return!0;this._compassRectangle=e.currentTarget.getBoundingClientRect();var t=this._compassRectangle.width/2,n=this._getVector(e),o=r.a.Cartesian2.magnitude(n)/t;if(o<50/145)this._orbit(n);else{if(!(o<1))return!0;this._rotate(n)}}},{key:"_handleDoubleClick",value:function(e){var t=this._viewer.scene,n=t.camera,o=t.screenSpaceCameraController;if(t.mode===r.a.SceneMode.MORPHING||!o.enableInputs)return!0;if(t.mode!==r.a.SceneMode.COLUMBUS_VIEW||o.enableTranslate){if(t.mode===r.a.SceneMode.SCENE3D||t.mode===r.a.SceneMode.COLUMBUS_VIEW){if(!o.enableLook)return;if(t.mode===r.a.SceneMode.SCENE3D&&!o.enableRotate)return}var i=this._getCameraFocus(!0);if(i){var a=t.globe.ellipsoid.cartographicToCartesian(n.positionCartographic),c=t.globe.ellipsoid.geodeticSurfaceNormal(i),s=new r.a.BoundingSphere(i,0);n.flyToBoundingSphere(s,{offset:new r.a.HeadingPitchRange(0,r.a.Math.PI_OVER_TWO-r.a.Cartesian3.angleBetween(c,n.directionWC),r.a.Cartesian3.distance(a,i)),duration:1.5})}}}},{key:"_getCameraFocus",value:function(e){var t=new r.a.Cartesian3,n=this._viewer.scene,o=n.camera;if(n.mode!==r.a.SceneMode.MORPHING){if(this._viewer.delegate.trackedEntity)t=this._viewer.delegate.trackedEntity.position.getValue(this._viewer.clock.currentTime);else{var i=new r.a.Ray;i.origin=o.positionWC,i.direction=o.directionWC,t=n.globe.pick(i,n)}if(t){if(n.mode===r.a.SceneMode.SCENE2D||n.mode===r.a.SceneMode.COLUMBUS_VIEW){t=o.worldToCameraCoordinatesPoint(t);var a=new r.a.Cartographic;e&&(t=n.globe.ellipsoid.cartographicToCartesian(n.mapProjection.unproject(t,a)))}else e||(t=o.worldToCameraCoordinatesPoint(t));return t}}}},{key:"_orbit",value:function(e){var t=this,n=this._viewer.scene,o=n.screenSpaceCameraController,i=n.camera;if(n.mode!==r.a.SceneMode.MORPHING&&o.enableInputs){switch(n.mode){case r.a.SceneMode.COLUMBUS_VIEW:if(o.enableLook)break;if(!o.enableTranslate||!o.enableTilt)return;break;case r.a.SceneMode.SCENE3D:if(o.enableLook)break;if(!o.enableTilt||!o.enableRotate)return;break;case r.a.SceneMode.SCENE2D:if(!o.enableTranslate)return}if(this._mouseMoveHandle=function(e){t._orbitMouseMoveFunction(e)},this._mouseUpHandle=function(){t._orbitMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._orbitLastTimestamp=r.a.getTimestamp(),this._viewer.delegate.trackedEntity)this._orbitFrame=void 0,this._orbitIsLook=!1;else{var a=this._getCameraFocus(!0);a?(this._orbitFrame=r.a.Transforms.eastNorthUpToFixedFrame(a,n.globe.ellipsoid),this._orbitIsLook=!1):(this._orbitFrame=r.a.Transforms.eastNorthUpToFixedFrame(i.positionWC,n.globe.ellipsoid),this._orbitIsLook=!0)}this._rotation_marker.style.visibility="visible",this._gyro.className+=" gyro-active",document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.addEventListener(this._orbitTickFunction,this),this._updateAngleAndOpacity(e,this._compassRectangle.width)}}},{key:"_orbitTickFunction",value:function(e){var t,n=this._viewer.scene,o=this._viewer.camera,i=r.a.getTimestamp(),a=(i-this._orbitLastTimestamp)*(2.5*(this._orbitCursorOpacity-.5)/1e3),c=this._orbitCursorAngle+r.a.Math.PI_OVER_TWO,s=Math.cos(c)*a,u=Math.sin(c)*a;this._orbitFrame&&(t=r.a.Matrix4.clone(o.transform),o.lookAtTransform(this._orbitFrame)),n.mode===r.a.SceneMode.SCENE2D?o.move(new r.a.Cartesian3(s,u,0),Math.max(n.canvas.clientWidth,n.canvas.clientHeight)/100*o.positionCartographic.height*a):this._orbitIsLook?(o.look(r.a.Cartesian3.UNIT_Z,-s),o.look(o.right,-u)):(o.rotateLeft(s),o.rotateUp(u)),this._orbitFrame&&t&&o.lookAtTransform(t),this._orbitLastTimestamp=i}},{key:"_updateAngleAndOpacity",value:function(e,t){var n=Math.atan2(-e.y,e.x);this._orbitCursorAngle=r.a.Math.zeroToTwoPi(n-r.a.Math.PI_OVER_TWO);var o=r.a.Cartesian2.magnitude(e),i=t/2,a=Math.min(o/i,1);this._orbitCursorOpacity=.5*a*a+.5,this._rotation_marker.style.cssText="\n      transform: rotate(-".concat(this._orbitCursorAngle,"rad);\n      opacity: ").concat(this._orbitCursorOpacity)}},{key:"_orbitMouseMoveFunction",value:function(e){this._updateAngleAndOpacity(this._getVector(e),this._compassRectangle.width)}},{key:"_orbitMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.removeEventListener(this._orbitTickFunction,this),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0,this._rotation_marker.style.visibility="hidden",this._gyro.className=this._gyro.className.replace(" gyro-active","")}},{key:"_rotate",value:function(e){var t=this,n=this._viewer.scene,o=n.camera,i=n.screenSpaceCameraController;if(n.mode!==r.a.SceneMode.MORPHING&&n.mode!==r.a.SceneMode.SCENE2D&&i.enableInputs&&(i.enableLook||n.mode!==r.a.SceneMode.COLUMBUS_VIEW&&(n.mode!==r.a.SceneMode.SCENE3D||i.enableRotate))){if(this._mouseMoveHandle=function(e){t._rotateMouseMoveFunction(e)},this._mouseUpHandle=function(){t._rotateMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._rotateInitialCursorAngle=Math.atan2(-e.y,e.x),this._viewer.delegate.trackedEntity)this._rotateFrame=void 0;else{var a=this._getCameraFocus(!0);a&&(n.mode!==r.a.SceneMode.COLUMBUS_VIEW||i.enableLook||i.enableTranslate)?this._rotateFrame=r.a.Transforms.eastNorthUpToFixedFrame(a,n.globe.ellipsoid):this._rotateFrame=r.a.Transforms.eastNorthUpToFixedFrame(o.positionWC,n.globe.ellipsoid)}var c;this._rotateFrame&&(c=r.a.Matrix4.clone(o.transform),o.lookAtTransform(this._rotateFrame)),this._rotateInitialCameraAngle=-o.heading,this._rotateFrame&&c&&o.lookAtTransform(c),document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1)}}},{key:"_rotateMouseMoveFunction",value:function(e){var t,n=this._viewer.camera,o=this._getVector(e),i=Math.atan2(-o.y,o.x)-this._rotateInitialCursorAngle,a=r.a.Math.zeroToTwoPi(this._rotateInitialCameraAngle-i);this._rotateFrame&&(t=r.a.Matrix4.clone(n.transform),n.lookAtTransform(this._rotateFrame));var c=-n.heading;n.rotateRight(a-c),this._rotateFrame&&t&&n.lookAtTransform(t)}},{key:"_rotateMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0}},{key:"_getVector",value:function(e){var t=this._compassRectangle,n=new r.a.Cartesian2((t.right-t.left)/2,(t.bottom-t.top)/2),o=new r.a.Cartesian2(e.clientX-t.left,e.clientY-t.top),i=new r.a.Cartesian2;return r.a.Cartesian2.subtract(o,n,i),i}}])&&Ct(n.prototype,o),i&&Ct(n,i),c}(ce);DC.WidgetType.COMPASS="Compass";var Pt=kt;function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var It={animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,creditContainer:void 0,shouldAnimate:!0};DC.Viewer=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Lt(this,e),!DC.Initialized)throw new Error("The DC is not initialized");if(!t||!document.getElementById(t))throw new Error("DC.Viewer：the id is empty");this._delegate=new r.a.Viewer(t,jt({},o,{},It)),new ie.b(this),this._viewerEvent=new ie.e,this._sceneEvent=new ie.d(this),this._viewerOption=new ne(this),this._cameraOption=new oe(this),this._dcContainer=DC.DomUtil.create("div","dc-container",document.getElementById(t)),this._baseLayerPicker=new r.a.BaseLayerPickerViewModel({globe:this._delegate.scene.globe}),this._layerCache={},this._effectCache={},this._comps={popup:new tt,contextMenu:new Oe,tooltip:new ut,mapSwitch:new Je,mapSplit:new We,locationBar:new Re,hawkeyeMap:new gt,compass:new Pt,attribution:new ve},Object.keys(this._comps).forEach((function(e){n.use(n._comps[e])}))}var t,n,o;return t=e,(n=[{key:"_addLayer",value:function(e){e&&e.layerEvent&&e.state!==DC.LayerState.ADDED&&(!this._layerCache[e.type]&&(this._layerCache[e.type]={}),e.layerEvent.fire(DC.LayerEventType.ADD,this),this._layerCache[e.type][e.id]=e)}},{key:"_removeLayer",value:function(e){e&&e.layerEvent&&e.state!==DC.LayerState.REMOVED&&(e.layerEvent.fire(DC.LayerEventType.REMOVE,this),this._layerCache[e.type]&&this._layerCache[e.type][e.id]&&delete this._layerCache[e.type][e.id])}},{key:"_addEffect",value:function(e){e&&e.effectEvent&&e.state!==DC.EffectState.ADDED&&(!this._effectCache[e.type]&&(this._effectCache[e.type]={}),e.effectEvent.fire(DC.EffectEventType.ADD,this),this._effectCache[e.type][e.id]=e)}},{key:"_removeEffect",value:function(e){e&&e.effectEvent&&e.state!==DC.EffectState.REMOVED&&(e.effectEvent.fire(DC.EffectEventType.REMOVE,this),this._effectCache[e.type]&&this._effectCache[e.type][e.id]&&delete this._effectCache[e.type][e.id])}},{key:"setOptions",value:function(e){return this._viewerOption.setOptions(e),this}},{key:"setPitchRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-90,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-20;return this._cameraOption.setPichRange(e,t),this}},{key:"limitCameraToGround",value:function(){return this._cameraOption.limitCameraToGround(),this}},{key:"setBounds",value:function(e,t,n,r){return this._cameraOption.setBounds(e,t,n,r),this}},{key:"changeSceneMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 2===e?this._delegate.scene.morphTo2D(t):3===e?this._delegate.scene.morphTo3D(t):2.5===e&&this._delegate.scene.morphToColumbusView(t),this}},{key:"addBaseLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(this._baseLayerPicker.imageryProviderViewModels.push(new r.a.ProviderViewModel({name:t.name||"地图",creationFunction:function(){return e}})),this._baseLayerPicker.selectedImagery||(this._baseLayerPicker.selectedImagery=this._baseLayerPicker.imageryProviderViewModels[0]),this._comps.mapSwitch.addMap(t),this):this}},{key:"changeBaseLayer",value:function(e){return this._baseLayerPicker&&e>=0&&(this._baseLayerPicker.selectedImagery=this._baseLayerPicker.imageryProviderViewModels[e]),this}},{key:"addTerrain",value:function(e){return e?(this._baseLayerPicker.terrainProviderViewModels.push(new r.a.ProviderViewModel({name:"地形",creationFunction:function(){return e}})),this._baseLayerPicker.selectedTerrain||(this._baseLayerPicker.selectedTerrain=this._baseLayerPicker.terrainProviderViewModels[0]),this):this}},{key:"changeTerrain",value:function(e){return this._baseLayerPicker&&e>=0&&(this._baseLayerPicker.selectedTerrain=this._baseLayerPicker.terrainProviderViewModels[e]),this}},{key:"addLayer",value:function(e){return this._addLayer(e),this}},{key:"removeLayer",value:function(e){return this._removeLayer(e),this}},{key:"getLayer",value:function(e){var t=this.getLayers().filter(item.id===e);return t&&t.length?t[0]:void 0}},{key:"getLayers",value:function(){var e=this,t=[];return Object.keys(this._layerCache).forEach((function(n){var r=e._layerCache[n];Object.keys(r).forEach((function(e){t.push(r[e])}))})),t}},{key:"eachLayer",value:function(e,t){var n=this;return Object.keys(this._layerCache).forEach((function(r){var o=n._layerCache[r];Object.keys(o).forEach((function(n){e.call(t,o[n])}))})),this}},{key:"addEffect",value:function(e){return this._addEffect(e),this}},{key:"removeEffect",value:function(e){return this._removeEffect(e),this}},{key:"flyTo",value:function(e){return this._delegate.flyTo(e.delegate||e),this}},{key:"zoomTo",value:function(e){return this._delegate.zoomTo(e.delegate||e),this}},{key:"flyToPosition",value:function(e,t,n){return e instanceof DC.Position&&this._delegate.camera.flyTo({destination:DC.T.transformWGS84ToCartesian(e),orientation:{heading:r.a.Math.toRadians(e.heading),pitch:r.a.Math.toRadians(e.pitch),roll:r.a.Math.toRadians(e.roll)},complete:t,duration:n}),this}},{key:"zoomToPosition",value:function(e,t){return e instanceof DC.Position&&this._delegate.camera.flyTo({destination:DC.T.transformWGS84ToCartesian(e),orientation:{heading:r.a.Math.toRadians(e.heading),pitch:r.a.Math.toRadians(e.pitch),roll:r.a.Math.toRadians(e.roll)},complete:t,duration:0}),this}},{key:"on",value:function(e,t,n){return this._viewerEvent.on(e,t,n||this),this._sceneEvent.on(e,t,n||this),this}},{key:"once",value:function(e,t,n){return this._viewerEvent.once(e,t,n||this),this}},{key:"off",value:function(e,t,n){return this._viewerEvent.off(e,t,n||this),this._sceneEvent.off(e,t,n||this),this}},{key:"use",value:function(e){return e&&e.install&&e.install(this),this}},{key:"delegate",get:function(){return this._delegate}},{key:"dcContainer",get:function(){return this._dcContainer}},{key:"scene",get:function(){return this._delegate.scene}},{key:"camera",get:function(){return this._delegate.camera}},{key:"canvas",get:function(){return this._delegate.scene.canvas}},{key:"dataSources",get:function(){return this._delegate.dataSources}},{key:"clock",get:function(){return this._delegate.clock}},{key:"viewerEvent",get:function(){return this._viewerEvent}},{key:"popup",get:function(){return this._comps.popup}},{key:"contextMenu",get:function(){return this._comps.contextMenu}},{key:"tooltip",get:function(){return this._comps.tooltip}},{key:"mapSplit",get:function(){return this._comps.mapSplit}},{key:"mapSwitch",get:function(){return this._comps.mapSwitch}},{key:"locationBar",get:function(){return this._comps.locationBar}},{key:"hawkeyeMap",get:function(){return this._comps.hawkeyeMap}},{key:"compass",get:function(){return this._comps.compass}},{key:"cameraPosition",get:function(){var e=DC.T.transformCartesianToWGS84(this.camera.positionWC);return e&&(e.heading=r.a.Math.toDegrees(this.camera.heading),e.pitch=r.a.Math.toDegrees(this.camera.pitch),e.roll=r.a.Math.toDegrees(this.camera.roll)),e}}])&&Mt(t.prototype,n),o&&Mt(t,o),e}()},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return z}));var r=n(3);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cache={},this._registerEvent()}var t,n,r;return t=e,(n=[{key:"_registerEvent",value:function(){}},{key:"_on",value:function(e,t,n){var r=this.getEvent(e),o=void 0;return t&&r&&(o=r.addEventListener(t,n||this)),o}},{key:"_off",value:function(e,t,n){var r=this.getEvent(e),o=!1;return r&&t&&(o=r.removeEventListener(t,n||this)),o}},{key:"_fire",value:function(e,t){var n=this.getEvent(e);n&&n.raiseEvent(t)}},{key:"on",value:function(e,t,n){return this._on(e,t,n)}},{key:"once",value:function(e,t,n){var r=this._on(e,t,n);r&&r()}},{key:"off",value:function(e,t,n){return this._off(e,t,n)}},{key:"fire",value:function(e,t){this._fire(e,t)}},{key:"getEvent",value:function(e){return this._cache[e]||void 0}}])&&o(t.prototype,n),r&&o(t,r),e}();function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=v(t);if(h()){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return y(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._viewer=e,t._setInputAction(),t.on(DC.MouseEventType.CLICK,t._clickHandler,p(t)),t.on(DC.MouseEventType.DB_CLICK,t._dbClickHandler,p(t)),t.on(DC.MouseEventType.RIGHT_CLICK,t._rightClickHandler,p(t)),t.on(DC.MouseEventType.MOUSE_MOVE,t._mouseMoveHandler,p(t)),t}return n=c,(o=[{key:"_setInputAction",value:function(){var e=this,t=new r.a.ScreenSpaceEventHandler(this._viewer.canvas);Object.keys(r.a.ScreenSpaceEventType).forEach((function(n){var o=r.a.ScreenSpaceEventType[n];e._cache[o]=new r.a.Event,t.setInputAction((function(t){e._cache[o].raiseEvent(t)}),o)}))}},{key:"_getMouseInfo",value:function(e){var t=this._viewer.scene,n=t.pick(e),o=void 0;t.pickPositionSupported&&(o=t.pickPosition(e));var i=void 0;if(t.mode===DC.SceneMode.SCENE3D){var a=t.camera.getPickRay(e);i=t.globe.pick(a,t)}else i=t.camera.pickEllipsoid(e,r.a.Ellipsoid.WGS84);return{target:n,windowPosition:e,position:o,surfacePosition:i}}},{key:"_getTargetInfo",value:function(e){var t=void 0,n=void 0,o=void 0;return e&&e.id&&e.id instanceof r.a.Entity&&(n=e.id.layer)&&n.getOverlay&&(t=n.getOverlay(e.id.overlayId)),e&&e instanceof r.a.Cesium3DTileFeature&&(n=e.tileset.layer,o=e,n&&n.getOverlay&&(t=n.getOverlay(e.tileset.overlayId),o.getPropertyNames().forEach((function(e){t.attr[e]=o.getProperty(e)})))),{layer:n,overlay:t,feature:o}}},{key:"_raiseEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,r=this._getTargetInfo(t.target),o=r.overlay;(n=o&&o.overlayEvent?o.overlayEvent.getEvent(e):this._viewer.viewerEvent.getEvent(e))&&n.numberOfListeners>0&&n.raiseEvent(s({},r,{},t))}},{key:"_clickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(DC.MouseEventType.CLICK,t)}},{key:"_dbClickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(DC.MouseEventType.DB_CLICK,t)}},{key:"_rightClickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(DC.MouseEventType.RIGHT_CLICK,t)}},{key:"_mouseMoveHandler",value:function(e){if(!e||!e.endPosition)return!1;var t=this._getMouseInfo(e.endPosition);this._viewer.canvas.style.cursor=t.target?"pointer":"default",this._raiseEvent(DC.MouseEventType.MOUSE_MOVE,t)}}])&&l(n.prototype,o),i&&l(n,i),c}(i);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=C(t);if(w()){var r=C(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return n=c,(o=[{key:"_registerEvent",value:function(){var e=this;Object.keys(DC.MouseEventType).forEach((function(t){var n=DC.MouseEventType[t];e._cache[n]=new r.a.Event})),Object.keys(DC.ViewerEventType).forEach((function(t){var n=DC.ViewerEventType[t];e._cache[n]=new r.a.Event}))}}])&&_(n.prototype,o),i&&_(n,i),c}(i);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=T(t);if(P()){var r=T(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return k(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._camera=e.delegate.camera,t._scene=e.delegate.scene,t._clock=e.delegate.clock,t}return n=a,(r=[{key:"on",value:function(e,t,n){var r=void 0;switch(e){case DC.SceneEventType.CAMERA_MOVE_END:r=this._camera.moveEnd.addEventListener(t,n||this);break;case DC.SceneEventType.CAMERA_CHANGED:r=this._camera.changed.addEventListener(t,n||this);break;case DC.SceneEventType.PRE_RENDER:r=this._scene.preRender.addEventListener(t,n||this);break;case DC.SceneEventType.POST_RENDER:r=this._scene.postRender.addEventListener(t,n||this);break;case DC.SceneEventType.MORPH_COMPLETE:r=this._scene.morphComplete.addEventListener(t,n||this);break;case DC.SceneEventType.CLOCK_TICK:r=this._clock.onTick.addEventListener(t,n||this)}return r}},{key:"off",value:function(e,t,n){var r=!1;switch(e){case DC.SceneEventType.CAMERA_MOVE_END:r=this._camera.moveEnd.removeEventListener(t,n||this);break;case DC.SceneEventType.CAMERA_CHANGED:r=this._camera.changed.removeEventListener(t,n||this);break;case DC.SceneEventType.PRE_RENDER:r=this._scene.preRender.removeEventListener(t,n||this);break;case DC.SceneEventType.POST_RENDER:r=this._scene.postRender.removeEventListener(t,n||this);break;case DC.SceneEventType.MORPH_COMPLETE:r=this._scene.morphComplete.removeEventListener(t,n||this);break;case DC.SceneEventType.CLOCK_TICK:r=this._clock.onTick.removeEventListener(t,n||this)}return r}}])&&E(n.prototype,r),o&&E(n,o),a}(i);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=x(t);if(A()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return I(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return n=c,(o=[{key:"_registerEvent",value:function(){var e=this;Object.keys(DC.LayerEventType).forEach((function(t){var n=DC.LayerEventType[t];e._cache[n]=new r.a.Event}))}}])&&L(n.prototype,o),i&&L(n,i),c}(i);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(c,e);var t,n,o,i,a=(t=c,function(){var e,n=B(t);if(G()){var r=B(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return V(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this)}return n=c,(o=[{key:"_registerEvent",value:function(){var e=this;Object.keys(DC.MouseEventType).forEach((function(t){var n=DC.MouseEventType[t];e._cache[n]=new r.a.Event})),Object.keys(DC.OverlayEventType).forEach((function(t){var n=DC.OverlayEventType[t];e._cache[n]=new r.a.Event}))}}])&&W(n.prototype,o),i&&W(n,i),c}(i)},3:function(e,t,n){"use strict";var r=DC.Namespace.Cesium;t.a=r}});